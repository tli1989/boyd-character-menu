:root {
    --polaroid-white: #ffffff;
    --shadow: rgba(0, 0, 0, 0.2);
    --tape-color: rgba(255, 255, 255, 0.6);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 0;
    background-color: #ffffff;
    font-family: 'Special Elite', cursive;
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
}

/* --- HOMEPAGE: MINIMAL MOBILE-FIRST --- */
.scrapbook-page {
    background-color: #ffffff;
    width: 100%;
    padding: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    min-height: 100dvh;
}

.title-sticker {
    display: none; /* Hide title for cleaner mobile look */
}

.main-photo-container {
    position: relative;
    width: 100%;
    max-width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.polaroid-frame.large-frame {
    background-color: var(--polaroid-white);
    padding: 0;
    box-shadow: none;
    position: relative;
    transform: none;
    width: 100%;
}

.photo-wrapper {
    position: relative;
    width: 100%;
    overflow: hidden;
    background-color: #fff;
    display: block; 
}

.main-photo {
    width: 100%;
    height: auto;
    display: block;
    filter: none; /* Remove sepia filter for cleaner look */
}

#click-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.character-hotspot {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.0);
    cursor: pointer;
    transition: background-color 0.15s ease, box-shadow 0.15s ease;
}

.character-hotspot:hover,
.character-hotspot:active {
    background-color: rgba(255, 255, 255, 0.4);
    box-shadow: inset 0 0 30px rgba(255, 255, 255, 0.6);
}

/* Hide tape strips */
.tape-strip {
    display: none;
}

/* Hide caption */
.handwritten-caption {
    display: none;
}


/* --- MODAL STYLES --- */
.hidden {
    display: none !important;
}

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.85);
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
}

.modal-content.polaroid-style {
    background-color: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 20px;
    width: 100%;
    max-width: 350px;
    position: relative;
    box-shadow: 0 20px 50px rgba(0,0,0,0.3);
    transform: none;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 15px;
    font-size: 32px;
    background: rgba(0, 0, 0, 0.3);
    border: none;
    cursor: pointer;
    color: #fff;
    z-index: 20;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
}

.modal-tape {
    display: none;
}

#modal-char-name {
    font-family: Arial, sans-serif;
    font-size: 1.4rem;
    font-weight: bold;
    color: #ffffff;
    margin: 10px 0 15px 0;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* --- IPOD PLAYER STYLES --- */
.ipod-container {
    position: relative;
    width: 100%;
    max-width: 280px;
    margin: 10px auto;
}

.ipod-image {
    width: 100%;
    display: block;
    filter: drop-shadow(3px 6px 8px rgba(0,0,0,0.3));
}

/* The Screen Overlay */
.ipod-screen {
    position: absolute;
    top: 14%;
    left: 19%;
    width: 62%;
    height: 20%;
    background-color: transparent; 
    color: #333;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 5px;
    box-sizing: border-box;
    overflow: hidden;
}

/* iPod Screen Content */
.screen-header {
    font-size: 10px;
    font-weight: bold;
    margin-bottom: 3px;
    border-bottom: 1px solid #999;
    width: 100%;
    text-align: center;
    padding-bottom: 2px;
}

.track-info {
    font-size: 12px;
    font-weight: 600;
    margin-bottom: 6px;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
}

/* Custom progress bar inside the screen */
.screen-progress-bar-container {
    width: 90%;
    height: 6px;
    background: #bdc3c7;
    border-radius: 3px;
    overflow: hidden;
    cursor: pointer;
    position: relative;
}

.screen-progress-bar {
    width: 0%;
    height: 100%;
    background: #3498db;
    transition: width 0.1s linear;
}

.screen-time {
    font-size: 9px;
    color: #555;
    margin-top: 3px;
    width: 90%;
    display: flex;
    justify-content: space-between;
}

/* --- IPOD BUTTON ZONES (Polygon-based) --- */
.wheel-btn {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
    z-index: 15;
}

/* Menu Button (Top of wheel) */
.wheel-menu-btn {
    clip-path: polygon(43.88% 44.59%, 37.77% 46.58%, 37.77% 48.71%, 39.06% 51.46%, 41.95% 52.53%, 44.20% 52.69%, 48.70% 52.69%, 53.84% 52.69%, 58.01% 51.62%, 59.94% 50.09%, 60.26% 48.41%, 60.26% 45.96%, 56.41% 45.81%, 48.05% 43.67%, 51.27% 44.13%, 53.84% 44.13%, 57.37% 44.59%, 57.37% 44.89%);
}

/* Center Button (Select) */
.wheel-center-btn {
    clip-path: polygon(44.20% 55.13%, 41.63% 56.20%, 39.06% 57.73%, 37.77% 59.72%, 37.77% 61.40%, 38.74% 62.93%, 42.59% 64.30%, 47.09% 65.83%, 52.55% 65.52%, 58.33% 64.30%, 60.26% 62.62%, 62.19% 60.94%, 61.55% 58.04%, 59.94% 56.05%, 55.76% 55.29%, 51.59% 54.37%, 46.45% 54.37%, 49.34% 54.06%);
    z-index: 20;
}

/* Next Button (Right of wheel) */
.wheel-next-btn {
    clip-path: polygon(62.83% 57.58%, 65.72% 55.90%, 68.61% 54.37%, 71.18% 53.60%, 75.04% 53.60%, 77.29% 53.60%, 79.22% 54.22%, 81.46% 57.58%, 82.75% 61.09%, 82.75% 62.93%, 79.86% 64.76%, 74.72% 65.06%, 70.22% 64.45%, 66.04% 63.54%, 64.44% 61.24%, 64.44% 59.41%);
}

/* Prev Button (Left of wheel) */
.wheel-prev-btn {
    clip-path: polygon(36.49% 58.04%, 33.28% 56.20%, 31.35% 54.52%, 28.78% 53.91%, 25.57% 53.60%, 23.00% 54.22%, 20.43% 55.29%, 19.78% 56.51%, 18.50% 57.73%, 18.18% 59.11%, 18.18% 61.24%, 18.18% 62.62%, 18.18% 63.54%, 20.43% 65.68%, 22.68% 66.75%, 26.85% 66.75%, 29.74% 65.98%, 33.92% 63.84%, 34.56% 62.77%, 34.88% 61.40%, 34.88% 60.18%, 34.88% 59.41%);
}

/* Play Button (Bottom of wheel) */
.wheel-play-btn {
    clip-path: polygon(42.27% 68.27%, 35.53% 71.33%, 39.38% 69.19%, 36.17% 72.25%, 35.20% 75.00%, 39.06% 77.29%, 45.16% 77.60%, 49.34% 77.60%, 54.48% 77.14%, 58.66% 74.84%, 59.62% 72.55%, 59.94% 69.95%, 59.30% 67.51%, 56.73% 67.05%, 53.52% 66.59%, 50.95% 66.59%, 48.05% 66.59%, 46.45% 67.36%);
}


/* Gate Overlay */
.gate-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 50;
    border-radius: 5px;
}

.gate-content {
    text-align: center;
    padding: 15px;
}

.gate-content h3 {
    font-family: Arial, sans-serif;
    font-size: 1.5rem;
    color: #fff;
    margin: 0;
}

.gate-content p {
    font-size: 0.9rem;
    color: #ccc;
}

#email-form {
    margin-top: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

#email-form input {
    padding: 10px;
    font-family: Arial, sans-serif;
    border: 1px solid #666;
    border-radius: 6px;
    outline: none;
    font-size: 14px;
    background: rgba(255,255,255,0.9);
}

#email-form button {
    background: #2ecc71;
    color: white;
    border: none;
    padding: 12px;
    font-family: Arial, sans-serif;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 3px 0 #27ae60;
    font-size: 14px;
    border-radius: 6px;
}

/* Easter Egg Modal Overlay */
#easter-egg-modal .modal-content {
    background-color: #ffeb3b;
    transform: rotate(2deg);
    max-width: 320px;
    color: #333;
}

#easter-egg-modal h3 {
    font-family: 'Special Elite', cursive;
    font-size: 1.3rem;
    border-bottom: 2px dashed #333;
    padding-bottom: 8px;
}

#easter-egg-modal p {
    font-family: 'Dancing Script', cursive;
    font-size: 1.3rem;
    line-height: 1.5;
}
